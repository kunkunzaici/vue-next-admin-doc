import{_ as s,c as i,o as a,a2 as n}from"./chunks/framework.CGSPmrLz.js";const E=JSON.parse('{"title":"打包预览","description":"","frontmatter":{},"headers":[],"relativePath":"config/build/index.md","filePath":"config/build/index.md","lastUpdated":null}'),t={name:"config/build/index.md"},e=n(`<h1 id="打包预览" tabindex="-1">打包预览 <a class="header-anchor" href="#打包预览" aria-label="Permalink to &quot;打包预览&quot;">​</a></h1><div class="tip custom-block"><p class="custom-block-title">开始之前</p><p>框架中使用基于原生 ES-Module 的前端构建工具 Vite，您可能需要了解 <a href="https://vitejs.cn/config/" target="_blank" rel="noreferrer">Vite 配置</a></p></div><h2 id="打包" tabindex="-1">打包 <a class="header-anchor" href="#打包" aria-label="Permalink to &quot;打包&quot;">​</a></h2><h3 id="_1-env-文件" tabindex="-1">1. .env 文件 <a class="header-anchor" href="#_1-env-文件" aria-label="Permalink to &quot;1. .env 文件&quot;">​</a></h3><p>根目录 <code>.env</code> 文件，去了解 <a href="/vue-next-admin-doc/config/server/#env-文件">.env-文件</a>。<code>/vue-next-admin-preview/</code> 为预览仓库 <a href="https://gitee.com/lyt-top/vue-next-admin-preview" target="_blank" rel="noreferrer">vue-next-admin-preview</a> 的仓库名，打包时得根据具体情况进行修改打包路径。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># public path 配置线上环境路径（打包）、本地通过 http-server 访问时，请置空即可</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_PUBLIC_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /vue-next-admin-preview/</span></span></code></pre></div><h3 id="_2-打包后链接效果" tabindex="-1">2. 打包后链接效果 <a class="header-anchor" href="#_2-打包后链接效果" aria-label="Permalink to &quot;2. 打包后链接效果&quot;">​</a></h3><p>注意看下图 <code>圈起来</code> 红色部分路径。</p><div class="img-style-100"><p><img src="https://i.hd-r.cn/ff42695acf83450f937a214234ae81d3.png" alt="https://i.hd-r.cn/ff42695acf83450f937a214234ae81d3.png" data-fancybox="gallery"></p></div><h3 id="_3-打包命令" tabindex="-1">3. 打包命令 <a class="header-anchor" href="#_3-打包命令" aria-label="Permalink to &quot;3. 打包命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 项目根目录运行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者，package.json 中，鼠标放入 build 上点击 \`运行脚本\`</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;scripts&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;build&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vite build&quot;,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span></code></pre></div><h2 id="预览" tabindex="-1">预览 <a class="header-anchor" href="#预览" aria-label="Permalink to &quot;预览&quot;">​</a></h2><h3 id="_1-本地预览" tabindex="-1">1. 本地预览 <a class="header-anchor" href="#_1-本地预览" aria-label="Permalink to &quot;1. 本地预览&quot;">​</a></h3><ul><li>本地预览必须把：根目录 <code>.env</code> 文件中的 <code>VITE_PUBLIC_PATH</code> 置空</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_PUBLIC_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_PUBLIC_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或者</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_PUBLIC_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /</span></span></code></pre></div><ul><li>安装 <code>http-server</code> 插件，或者拖到 <code>HBuilderX</code> 中去</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http-server</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 运行，打包后的 dist 文件夹里打开 cmd</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http-server</span></span></code></pre></div><ul><li>或者在 <code>package.json</code> 中添加脚本</li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;dev&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite --force&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vite build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;lint-fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;eslint --fix --ext .js --ext .jsx --ext .vue src/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;serve&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;http-server ./dist&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 项目根目录运行</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">cnpm run serve</span></span></code></pre></div><ul><li>成功代码</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">λ</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serve</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> vue-next-admin@1.2.0 serve C:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\U</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">sers</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\D</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">esktop</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ue-next-admin</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> http-server ./dist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Starting</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http-server,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> serving</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./dist</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">http-server</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> settings:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CORS:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> disabled</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Cache:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3600</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Connection</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Timeout:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 120</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Directory</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Listings:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> visible</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">AutoIndex:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> visible</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Serve</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GZIP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Files:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Serve</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Brotli</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Files:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Default</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> File</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Extension:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> none</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Available</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  http://10.111.171.255:8080</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  http://127.0.0.1:8080</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Hit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> CTRL-C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> server</span></span></code></pre></div><h3 id="_2-线上预览" tabindex="-1">2. 线上预览 <a class="header-anchor" href="#_2-线上预览" aria-label="Permalink to &quot;2. 线上预览&quot;">​</a></h3><p>部署到服务器，方法 <a href="https://www.baidu.com/" target="_blank" rel="noreferrer">自行前往学习</a>。</p><h2 id="其它" tabindex="-1">其它 <a class="header-anchor" href="#其它" aria-label="Permalink to &quot;其它&quot;">​</a></h2><h3 id="_1-分包-manualchunks" tabindex="-1">1. 分包（manualChunks） <a class="header-anchor" href="#_1-分包-manualchunks" aria-label="Permalink to &quot;1. 分包（manualChunks）&quot;">​</a></h3><p><a href="https://gitee.com/lyt-top/vue-next-admin/blob/master/vite.config.ts" target="_blank" rel="noreferrer">vite.config.ts</a> 中，注意：<code>npm</code> 安装依赖 与 <code>cnpm</code> 安装依赖时，<code>build.rollupOptions.output.manualChunks</code> 分包效果会不一致，下图的为 <code>npm</code> 安装依赖时的打包效果。</p><ul><li>代码</li></ul><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">build</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  rollupOptions</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    output</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      manualChunks</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(id) {</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">includes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) {</span></span>
<span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> id.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;node_modules/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">split</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>打包效果（<code>npm</code> 安装依赖时的打包效果）</li></ul><div class="img-style-100"><p><img src="https://i.hd-r.cn/ce0ebf9f1adc927ec44c91cb52d1ae8a.png" alt="https://i.hd-r.cn/ce0ebf9f1adc927ec44c91cb52d1ae8a.png" data-fancybox="gallery"></p></div><h3 id="_2-gzip-压缩" tabindex="-1">2. gzip 压缩 <a class="header-anchor" href="#_2-gzip-压缩" aria-label="Permalink to &quot;2. gzip 压缩&quot;">​</a></h3><p>使用 <code>vite-plugin-compression</code> 插件</p><ul><li>安装</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vite-plugin-compression</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --save-dev</span></span></code></pre></div><ul><li>使用</li></ul><p><a href="https://gitee.com/lyt-top/vue-next-admin/blob/master/vite.config.ts" target="_blank" rel="noreferrer">vite.config.ts</a> 查看具体配置</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> viteCompression </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vite-plugin-compression&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">plugins</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">viteCompression</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()];</span></span></code></pre></div><h3 id="_3-cdn-加速" tabindex="-1">3. cdn 加速 <a class="header-anchor" href="#_3-cdn-加速" aria-label="Permalink to &quot;3. cdn 加速&quot;">​</a></h3><p>网络卡，打包后第一次进入还是慢，这里只做部分参考，需要的可自行添加配置。</p><p>详细配置文章链接 <a href="https://blog.csdn.net/qq_34450741/article/details/129766676" target="_blank" rel="noreferrer">vue3 + vite 打包 gzip 压缩、cdn 加速</a></p><ul><li>.env 文件，默认为关闭 <code>cdn</code> 加速</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 打包是否开启 cdn（源文件 utils/build.ts），可自行修改</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_OPEN_CDN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span></code></pre></div><ul><li>配置 cdn 加速链接</li></ul><p><a href="https://gitee.com/lyt-top/vue-next-admin/blob/master/src/utils/build.ts" target="_blank" rel="noreferrer">完整列表配置查看/src/utils/build.ts</a></p><p>注意 <code>prodUrl</code>：使用的是 <a href="https://www.jsdelivr.com/" target="_blank" rel="noreferrer">jsdelivr</a> 还是 <a href="https://unpkg.com/" target="_blank" rel="noreferrer">unpkg</a>。它们的 <code>path</code> 可能不一致，所以下面的 <code>path</code> 你得对应的进行修改</p><p>比如：</p><blockquote><p>prodUrl: 为 <code>https://unpkg.com/{name}@{version}/{path}</code> 时，path 为 <code>dist/vue.global.js</code></p></blockquote><p><code>path</code>：通过网站 <a href="https://unpkg.com/" target="_blank" rel="noreferrer">https://unpkg.com/</a> 进行查询，方法为地址栏输入 <code>https://unpkg.com/\${包名}</code> 回车。如：<a href="https://unpkg.com/vue" target="_blank" rel="noreferrer">https://unpkg.com/vue</a></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    var: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/vue.global.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><blockquote><p>prodUrl: 为 <code>https://cdn.jsdelivr.net/npm/{name}@{version}/{path}</code> 时，path 为 <code>dist/vue.global.min.js</code></p></blockquote><p><code>path</code>：通过网站 <a href="https://www.jsdelivr.com/" target="_blank" rel="noreferrer">https://www.jsdelivr.com/</a> 进行查询</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">modules</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    var: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;dist/vue.global.min.js&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span></code></pre></div><ul><li>打包效果（npm 安装依赖时的打包效果），<a href="https://gitee.com/lyt-top/vue-next-admin/blob/master/.env" target="_blank" rel="noreferrer">.env</a> <code>VITE_OPEN_CDN</code> 设置为 true</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">VITE_OPEN_CDN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span></span></code></pre></div><div class="img-style-100"><p><img src="https://i.hd-r.cn/ce0ebf9f1adc927ec44c91cb52d1ae8a.png" alt="https://i.hd-r.cn/ce0ebf9f1adc927ec44c91cb52d1ae8a.png" data-fancybox="gallery"></p></div>`,55),l=[e];function h(p,k,d,r,c,o){return a(),i("div",null,l)}const F=s(t,[["render",h]]);export{E as __pageData,F as default};
